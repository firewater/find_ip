<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Find IP</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
	<link rel="stylesheet" href="{{static_url("index.css")}}">
</head>

<body>
	<div id="app">
		<div class="container-fluid">
			<div class="row">
				<!-- Hosts list -->
				<div class="col-md-2" id="hosts_col">
					<p>Hosts found: {{!num_hosts}}</p>
					<!-- ! tells Tornado to ignore this tag. -->
					<div id="hosts" data-children=".host">
						<div v-for="(host, index) in get_hosts" class="host">
							<a v-on:click="map_ip(host.lat,host.lon)" data-toggle="collapse" data-parent="#hosts" :href="'#host'+index" aria-expanded="false" :aria-controls="'host'+index">{{!host.host}} ({{!host.countryCode}} {{!host.region}})</a>
							<div :id="'host'+index" class="collapse" role="tabpanel">
								<ul class="host_info">
									<li><b>IP:</b> {{!host.host}}</li>
									<li><b>Hostname:</b> {{!host.reverse}}</li>
									<li><b>Pingable:</b> {{!host.status}}</li>
									<li><b>Pinged:</b> {{!host.time_pinged}}</li>
									<li><b>Country:</b> {{!host.country}}</li>
									<li><b>Country Code:</b> {{!host.countryCode}}</li>
									<li><b>Region:</b> {{!host.region}}</li>
									<li><b>Region Name:</b> {{!host.regionName}}</li>
									<li><b>Zip:</b> {{!host.zip}}</li>
									<li><b>Lat:</b> {{!host.lat}}</li>
									<li><b>Lon:</b> {{!host.lon}}</li>
									<li><b>Time Zone:</b> {{!host.timezone}}</li>
									<li><b>ISP:</b> {{!host.isp}}</li>
									<li><b>Asys:</b> {{!host.asys}}</li>
									<li><b>Mobile:</b> {{!host.mobile}}</li>
									<li><b>Org:</b> {{!host.org}}</li>
									<li><b>Proxy:</b> {{!host.proxy}}</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<!-- Map -->
				<div class="col-md-10 ml-auto" id="map">
					<p>Finding IPs...<br/>Click one in the left column :)</p>
				</div>
			</div>
		</div>
	</div>

	<!-- Google Maps -->
	<!--<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAagFy1D5O8SHxjtRYr3YN-_QCP8ii8-o&callback=app.map_ip"></script>-->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAagFy1D5O8SHxjtRYr3YN-_QCP8ii8-o"></script>

	<!-- Bootstrap-related -->
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

	<!-- Vue.js -->
	<script src="{{static_url("vue_dev.js")}}"></script>
	<script src="https://unpkg.com/vuex"></script>

	<!-- Custom -->
	<script src="{{static_url("index.js")}}"></script>
</body>
</html>
